(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{265:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:[{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},"$preset.actions.add"],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"appkey",label:"Appkey",type:"text"},{name:"appsecret",label:"Appsecret",type:"text"},{name:"pid",label:"PID",type:"text"},{name:"adzone_id",label:"AdzoneId",type:"text",width:150},{name:"note",label:"\u5907\u6ce8",type:"text",width:150},{type:"operation",label:"\u64cd\u4f5c",width:60,limits:["edit","del"],limitsLogic:"or",buttons:["$preset.actions.edit","$preset.actions.del"]}]},definitions:{updateControls:{controls:[{name:"appkey",label:"Appkey",type:"text",required:!0,placeholder:"\u8bf7\u8f93\u5165 Appkey"},{name:"appsecret",label:"Appsecret",type:"text",required:!0,placeholder:"\u8bf7\u8f93\u5165 Appsecret"},{name:"pid",label:"PID",type:"text",placeholder:"\u8bf7\u8f93\u5165\u6dd8\u5b9d\u8054\u76dfPID mm_1_2_3"},{name:"adzone_id",label:"AdzoneId",type:"text",placeholder:"\u8bf7\u8f93\u5165\u6dd8\u5b9d\u8054\u76dfPID\u63a8\u5e7f\u4f4did(\u4f8b\u5982\uff1amm_1_2_3 \u4e2d\u7684 3)"},{name:"note",label:"\u5907\u6ce8",type:"text",showCounter:!0,maxLength:50,placeholder:"\u8bf7\u8f93\u5165"}]}},preset:{actions:{add:{limits:"add",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},edit:{limits:"edit",type:"button",icon:"fa fa-pencil",tooltip:"\u7f16\u8f91",actionType:"dialog",dialog:{title:"\u7f16\u8f91",size:"lg",body:{type:"form",mode:"normal",api:"$preset.apis.edit",$ref:"updateControls"}}},del:{limits:"del",type:"action",icon:"fa fa-times text-danger",actionType:"ajax",tooltip:"\u5220\u9664",confirmText:"\u60a8\u786e\u8ba4\u8981\u5220\u9664?",api:{$preset:"apis.del"},messages:{success:"\u5220\u9664\u6210\u529f",failed:"\u5220\u9664\u5931\u8d25"}}}}}},266:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},"$preset.actions.add"],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"\u9632\u64b8ID",type:"text"},{name:"goods_id",label:"\u5546\u54c1ID",type:"text"},{name:"goods_title",label:"\u5546\u54c1\u540d\u79f0",type:"text"},{name:"goods_price",label:"\u5546\u54c1\u4ef7\u683c",type:"text"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"image"},{name:"note",label:"\u5907\u6ce8",type:"text",width:150},{name:"from_group",label:"\u9650\u9886\u7fa4\u7ec4",type:"text"},{type:"operation",label:"\u64cd\u4f5c",width:60,limits:["add_kouling","view","edit","del"],limitsLogic:"or",buttons:["$preset.actions.add_kouling","$preset.actions.view","$preset.actions.edit","$preset.actions.del"]}]},definitions:{updateControls:{controls:[{type:"uuid",name:"uuid"},{name:"goods_type",label:"\u5546\u54c1\u7c7b\u578b",type:"select",required:!0,options:[{label:"\u6dd8\u5b9d",value:"taobao"},{label:"\u4eac\u4e1c",value:"jingdong"},{label:"\u62fc\u591a\u591a",value:"pinduoduo"}]},{name:"goods_id",label:"\u5546\u54c1id",type:"text",required:!0,placeholder:"\u8bf7\u8f93\u5165"},{name:"goods_title",label:"\u5546\u54c1\u6807\u9898",type:"text",required:!0,showCounter:!0,maxLength:60,placeholder:"\u8bf7\u8f93\u5165"},{name:"goods_price",label:"\u4ef7\u683c",type:"input-text",prefix:"\uffe5"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"text"},{name:"note",label:"\u5907\u6ce8",type:"text",showCounter:!0,maxLength:50,placeholder:"\u8bf7\u8f93\u5165"},{name:"desc",label:"\u81ea\u5b9a\u4e49\u6587\u5b57",type:"rich-text"},{name:"is_original",type:"switch",option:"\u4f1a\u5458\u514d\u5355"},{name:"from_group",label:"\u9650\u9886\u7fa4\u7ec4",type:"text",placeholder:"\u8bf7\u8f93\u5165\u9650\u5b9a\u9886\u53d6\u7684\u7fa4\u53f7"},{name:"max_member",label:"\u9700\u6709\u6548\u9080\u8bf7\u4eba\u6570",type:"input-number"},{name:"is_show_number",type:"switch",option:"\u6309\u94ae\u5c55\u793a\u5269\u4f59\u6570\u91cf"},{name:"no_member_desc",label:"\u975e\u7fa4\u6210\u5458\u5269\u4f59\u6570\u91cf\u63d0\u793a\u8bed",type:"text"},{name:"tips_desc",label:"\u63d0\u793a\u6587\u5b57\u81ea\u5b9a\u4e49",type:"text"}]}},preset:{actions:{add:{limits:"add",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},add_kouling:{limits:"add_kouling",type:"button",icon:"fa fa-plus",tooltip:"\u590d\u5236\u65b0\u589e",actionType:"dialog",dialog:{title:"\u590d\u5236\u65b0\u589e",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},view:{limits:"view",type:"button",icon:"fa fa-eye",tooltip:"\u67e5\u770b\u8be6\u60c5",actionType:"dialog",dialog:{title:"\u6d4b\u8bd5\u529f\u80fd \u67e5\u770b\u8be6\u60c5",size:"lg",body:[{label:"\u8bf7\u786e\u8ba4",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view",feedback:{title:"\u64cd\u4f5c\u6210\u529f",body:"${goods_title} \u5df2\u64cd\u4f5c\u6210\u529f"},messages:{success:"\u6210\u529f\u4e86\uff01\u6b27\u8036",failed:"\u5931\u8d25\u4e86\u5462\u3002\u3002"}},{label:"\u83b7\u53d6\u53e3\u4ee4\u5e76\u590d\u5236",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view_safe_taolijin",feedback:{title:"\u83b7\u53d6\u53e3\u4ee4",body:[{type:"tpl",tpl:"\u83b7\u53d6\u5931\u8d25(\u8bf7\u91cd\u8bd5\uff0c\u6216\u6362\u4e2a\u5b9d\u8d1d)",visibleOn:"this.total_num<=0"},{label:"\u590d\u5236\u53e3\u4ee4",type:"button",actionType:"copy",copyFormat:"text/html",content:"$${taokouling}",visibleOn:"this.total_num>0"}]},messages:{success:"\u6210\u529f\u4e86\uff01\u6b27\u8036",failed:"\u5931\u8d25\u4e86\u5462\u3002\u3002"}},{label:"\u8df3\u8f6c\u5230\u793c\u91d1\u9886\u53d6\u9875",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view_safe_taolijin",redirect:"${click_url}"},{label:"\u590d\u5236\u8be6\u60c5\u94fe\u63a5",type:"button",actionType:"copy",copyFormat:"text/html",content:"${goods_title}  "+a(45).a.domainShow+"/?iid=${id}"}]}},edit:{limits:"edit",type:"button",icon:"fa fa-pencil",tooltip:"\u7f16\u8f91",actionType:"dialog",dialog:{title:"\u7f16\u8f91",size:"lg",body:{type:"form",mode:"normal",api:"$preset.apis.edit",$ref:"updateControls"}}},del:{limits:"del",type:"action",icon:"fa fa-times text-danger",actionType:"ajax",tooltip:"\u5220\u9664",confirmText:"\u60a8\u786e\u8ba4\u8981\u5220\u9664?",api:{$preset:"apis.del"},messages:{success:"\u5220\u9664\u6210\u529f",failed:"\u5220\u9664\u5931\u8d25"}}},forms:{filter:{controls:[{type:"text",name:"filter",label:"\u5173\u952e\u5b57",clearable:!0,placeholder:"\u5546\u54c1ID/\u540d\u79f0/\u5907\u6ce8"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]}}}}},267:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},"$preset.actions.add"],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"ID",type:"text"},{name:"goods_id",label:"\u5546\u54c1ID",type:"text"},{name:"goods_title",label:"\u5546\u54c1\u540d\u79f0",type:"text"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"image"},{name:"note",label:"\u5907\u6ce8",type:"text",width:150},{name:"click_url",label:"\u94fe\u63a5",type:"link",href:"${click_url}",body:"\u67e5\u770b",blank:!0},{name:"taokouling",label:"\u6dd8\u53e3\u4ee4",type:"page",width:100,body:{label:"\u4e00\u952e\u590d\u5236",type:"button",actionType:"copy",copyFormat:"text/html",content:"${taokouling}"}},{name:"total_num",label:"\u5269\u4f59\u6570\u91cf",type:"text"},{name:"from_group",label:"\u9650\u9886\u7fa4\u7ec4",type:"text"},{type:"operation",label:"\u64cd\u4f5c",width:60,limits:["add_kouling","view","edit","del"],limitsLogic:"or",buttons:["$preset.actions.add_kouling","$preset.actions.view","$preset.actions.edit","$preset.actions.del"]}]},definitions:{updateControls:{controls:[{type:"uuid",name:"uuid"},{name:"safe_id",label:"\u9632\u64b8ID",type:"input-number",required:!0,placeholder:"\u8bf7\u8f93\u5165\u9632\u64b8\u4e2d\u95f4\u9875id"},{name:"from_group",label:"\u9650\u9886\u7fa4\u7ec4",type:"text",placeholder:"\u8bf7\u8f93\u5165\u9650\u5b9a\u9886\u53d6\u7684\u7fa4\u53f7"},{name:"safe_type",type:"switch",option:"\u9632\u64b8\u793c\u91d1"},{name:"max_member",label:"\u9700\u6709\u6548\u9080\u8bf7\u4eba\u6570",type:"input-number"},{name:"goods_type",label:"\u5546\u54c1\u7c7b\u578b",type:"select",required:!0,options:[{label:"\u6dd8\u5b9d",value:"taobao"},{label:"\u4eac\u4e1c",value:"jingdong"},{label:"\u62fc\u591a\u591a",value:"pinduoduo"}]},{name:"goods_id",label:"\u5546\u54c1id",type:"text",required:!0,placeholder:"\u8bf7\u8f93\u5165"},{name:"goods_title",label:"\u5546\u54c1\u6807\u9898",type:"text",required:!0,showCounter:!0,maxLength:60,placeholder:"\u8bf7\u8f93\u5165"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"text"},{name:"click_url",label:"\u70b9\u51fb\u94fe\u63a5",type:"text"},{name:"taokouling",label:"\u6dd8\u53e3\u4ee4",type:"text"},{name:"note",label:"\u5907\u6ce8",type:"text",showCounter:!0,maxLength:50,placeholder:"\u8bf7\u8f93\u5165"},{name:"total_num",label:"\u6dd8\u793c\u91d1\u603b\u4e2a\u6570",type:"input-number"}]}},preset:{actions:{add:{limits:"add",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},add_kouling:{limits:"add_kouling",type:"button",icon:"fa fa-plus",tooltip:"\u6dfb\u52a0\u53e3\u4ee4",actionType:"dialog",dialog:{title:"\u65b0\u589e",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},view:{limits:"view",type:"button",icon:"fa fa-eye",tooltip:"\u67e5\u770b\u8be6\u60c5",actionType:"dialog",dialog:{title:"\u6d4b\u8bd5\u529f\u80fd \u67e5\u770b\u8be6\u60c5",size:"lg",body:[{label:"\u8bf7\u786e\u8ba4",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view",feedback:{title:"\u64cd\u4f5c\u6210\u529f",body:"${goods_title} \u5df2\u64cd\u4f5c\u6210\u529f"},messages:{success:"\u6210\u529f\u4e86\uff01\u6b27\u8036",failed:"\u5931\u8d25\u4e86\u5462\u3002\u3002"}},{label:"\u83b7\u53d6\u53e3\u4ee4\u5e76\u590d\u5236",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view",feedback:{title:"\u83b7\u53d6\u6210\u529f",body:{label:"\u590d\u5236\u53e3\u4ee4",type:"button",actionType:"copy",copyFormat:"text/html",content:"${taokouling}"}},messages:{success:"\u6210\u529f\u4e86\uff01\u6b27\u8036",failed:"\u5931\u8d25\u4e86\u5462\u3002\u3002"}},{label:"\u8df3\u8f6c\u5230\u8be6\u60c5\u9875",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view",redirect:"${click_url}"},{label:"\u590d\u5236\u8be6\u60c5\u94fe\u63a5",type:"button",actionType:"copy",copyFormat:"text/html",content:"${goods_title} "+a(45).a.domainShow+"/?iid=${safe_id}"}]}},edit:{limits:"edit",type:"button",icon:"fa fa-pencil",tooltip:"\u7f16\u8f91",actionType:"dialog",dialog:{title:"\u7f16\u8f91",size:"lg",body:{type:"form",mode:"normal",api:"$preset.apis.edit",$ref:"updateControls"}}},del:{limits:"del",type:"action",icon:"fa fa-times text-danger",actionType:"ajax",tooltip:"\u5220\u9664",confirmText:"\u60a8\u786e\u8ba4\u8981\u5220\u9664?",api:{$preset:"apis.del"},messages:{success:"\u5220\u9664\u6210\u529f",failed:"\u5220\u9664\u5931\u8d25"}}},forms:{filter:{controls:[{type:"text",name:"filter",label:"\u5173\u952e\u5b57",clearable:!0,placeholder:"\u5546\u54c1ID/\u540d\u79f0/\u5907\u6ce8"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]}}}}},268:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},"$preset.actions.add"],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"item_id",label:"\u5546\u54c1id",type:"text"},{name:"goods_title",label:"\u5546\u54c1\u540d\u79f0",type:"text"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"image"},{name:"note",label:"\u5907\u6ce8",type:"text",width:150},{name:"from_group",label:"\u9650\u9886\u7fa4\u7ec4",type:"text"},{type:"operation",label:"\u64cd\u4f5c",width:60,limits:["add_kouling"],limitsLogic:"or",buttons:["$preset.actions.add_kouling"]}]},definitions:{updateControls:{controls:[{type:"uuid",name:"uuid"},{name:"safe_type",type:"switch",option:"\u9632\u64b8\u793c\u91d1"},{name:"from_group",label:"\u9650\u9886\u7fa4\u7ec4",type:"text",placeholder:"\u8bf7\u8f93\u5165\u9650\u5b9a\u9886\u53d6\u7684\u7fa4\u53f7"},{name:"max_member",label:"\u9700\u6709\u6548\u9080\u8bf7\u4eba\u6570",type:"input-number"},{name:"goods_type",label:"\u5546\u54c1\u7c7b\u578b",type:"select",required:!0,options:[{label:"\u6dd8\u5b9d",value:"taobao"},{label:"\u4eac\u4e1c",value:"jingdong"},{label:"\u62fc\u591a\u591a",value:"pinduoduo"}]},{name:"item_id",label:"\u5546\u54c1id",type:"text",required:!0,placeholder:"\u8bf7\u8f93\u5165"},{name:"goods_title",label:"\u5546\u54c1\u6807\u9898",type:"text",required:!0,showCounter:!0,maxLength:60,placeholder:"\u8bf7\u8f93\u5165"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"text"},{name:"name",label:"\u6dd8\u793c\u91d1\u540d\u79f0",type:"text",showCounter:!0,maxLength:10},{name:"note",label:"\u5907\u6ce8",type:"text",showCounter:!0,maxLength:50},{name:"total_num",label:"\u6dd8\u793c\u91d1\u603b\u4e2a\u6570",type:"input-number"},{name:"campaign_type",label:"CPS\u4f63\u91d1\u7c7b\u578b",type:"radios",options:[{label:"\u9ed8\u8ba4",value:""},{label:"\u5b9a\u5411",value:"DX"},{label:"\u8425\u9500",value:"MKT"}]},{name:"user_total_win_num_limit",label:"\u5355\u7528\u6237\u7d2f\u8ba1\u4e2d\u5956\u6b21\u6570\u4e0a\u9650",type:"input-number"},{name:"per_face",label:"\u5355\u4e2a\u6dd8\u793c\u91d1\u9762\u989d",type:"input-number",placeholder:"\u4e0d\u53ef\u8d85\u8fc7\u8be5\u5546\u54c1\u7684\u539f\u4ef7\u3002 "},{name:"send_start_time",label:"\u53d1\u653e\u5f00\u59cb\u65f6\u95f4",type:"input-datetime",format:"YYYY-MM-DD HH:mm:ss",timeFormat:"YYYY-MM-DD HH:mm:ss",inputFormat:"YYYY-MM-DD HH:mm:ss"},{name:"send_end_time",label:"\u53d1\u653e\u622a\u6b62\u65f6\u95f4",type:"input-datetime",format:"YYYY-MM-DD HH:mm:ss",timeFormat:"YYYY-MM-DD HH:mm:ss",inputFormat:"YYYY-MM-DD HH:mm:ss"}]}},preset:{actions:{add:{limits:"add",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},add_kouling:{limits:"add_kouling",type:"button",icon:"fa fa-plus",tooltip:"\u590d\u5236\u65b0\u589e",actionType:"dialog",dialog:{title:"\u65b0\u589e",size:"lg",body:{type:"form",mode:"normal",api:"$preset.apis.add",$ref:"updateControls"}}}},forms:{filter:{controls:[{type:"text",name:"filter",label:"\u5173\u952e\u5b57",clearable:!0,placeholder:"\u5546\u54c1ID/\u540d\u79f0/\u5907\u6ce8"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]}}}}},269:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return l}));var i=a(45),l={type:"page",data:{domain:"",domain_login:i.a.domainLogin,domain_auth:i.a.domainAuth,oauth_hash:"${oauth_hash}",nickname:"${nickname}",avatar:"${avatar}",default_img:"",default_title:i.a.defaultTitle,userid:0,itemid:"${iid|default:18}"},title:"${default_title}",initApi:"$preset.apis.detail",toolbar:{type:"service",api:"$preset.apis.getUserInfo",body:[{type:"avatar",src:"${avatar}",text:"${nickname}",visibleOn:"this.userid > 0"},{label:"QQ\u767b\u5f55",type:"action",actionType:"url",level:"light",blank:!0,url:"${domain_auth|raw}/oauth/qq",visibleOn:"this.userid === 0"},{label:"\u767b\u5f55/\u6ce8\u518c",type:"action",actionType:"url",level:"light",blank:!0,url:"/login",visibleOn:"this.userid === 0"}]},body:[{type:"panel",title:"${goods_title}",body:[{type:"image",imageMode:"original",defaultImage:"${default_img}",enlargeAble:!0,showDimensions:!0,thumbMode:"cover",name:"${goods_pic|raw}",originalSrc:"${goods_pic|raw}",src:"${goods_pic|raw}",width:"300px",height:"300px"},{type:"tpl",tpl:"\u798f\u5229\u4ef7\u683c\uff1a${goods_price} \u5143",inline:!1},{type:"tpl",tpl:"\u798f\u5229\u6570\u91cf\uff1a${total_num} \u4efd   \u9700\u9080\u8bf7\uff1a${max_member} \u4eba",inline:!1,visibleOn:"this.is_show_number && this.is_original"},{type:"tpl",tpl:"${no_member_desc}",inline:!1,visibleOn:"!this.is_original"},{type:"tpl",tpl:"${desc|raw}",inline:!1}],affixFooter:!0,actions:[{type:"button-toolbar",buttons:["$preset.actions.copy_taokouling"]}]}],preset:{actions:{copy_taokouling:{type:"button",level:"danger",label:"\u7acb\u5373\u9886\u53d6",actionType:"ajax",confirmText:"\u672c\u6b21\u64cd\u4f5c\u9700\u8981\u6263\u9664 ${max_member} \u4e2a\u9080\u8bf7\u6570\u91cf\uff01\u786e\u8ba4\u5417\uff1f",api:"$preset.apis.view_safe_taolijin",feedback:{title:"\u9886\u53d6\u798f\u5229",body:[{type:"tpl",tpl:"\u83b7\u53d6\u5931\u8d25(\u8bf7\u91cd\u8bd5\uff0c\u6216\u6362\u4e2a\u5b9d\u8d1d)",visibleOn:"this.total_num<=0"},{label:"\u4e00\u952e\u590d\u5236\u53e3\u4ee4",type:"button",actionType:"copy",copyFormat:"text/html",content:"${taokouling}",visibleOn:"this.total_num>0"},{label:"\u70b9\u51fb\u524d\u5f80\u798f\u5229\u5730\u5740",type:"action",actionType:"url",level:"link",blank:!0,url:"${click_url|raw}"}]}},view_taokouling:{label:"\u8df3\u8f6c\u5230\u793c\u91d1\u9886\u53d6\u9875",type:"button",actionType:"ajax",confirmText:"\u786e\u8ba4\u8981\u53d1\u51fa\u8fd9\u4e2a\u8bf7\u6c42\uff1f",api:"$preset.apis.view_safe_taolijin",redirect:"${click_url}"}}}}},270:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return l}));var i=a(45),l={type:"page",data:{domain:"",domain_login:i.a.domainLogin,domain_auth:i.a.domainAuth,oauth_hash:"${oauth_hash}",nickname:"${nickname}",avatar:"${avatar}",default_img:"",default_title:i.a.defaultTitle,userid:0},title:"${default_title}",toolbar:{type:"service",api:"$preset.apis.getUserInfo",body:[{type:"avatar",icon:"fa fa-user",src:"${avatar}",text:"${nickname}",visibleOn:"this.userid > 0"},{label:"QQ\u767b\u5f55",type:"action",actionType:"url",level:"light",blank:!0,url:"${domain_auth|raw}/oauth/qq?state=${window:document[URL]}",visibleOn:"this.userid === 0"},{label:"\u767b\u5f55/\u6ce8\u518c",type:"action",actionType:"url",level:"light",blank:!0,url:"${domain_login|raw}/login",visibleOn:"this.userid === 0"}]},body:{type:"lib-crud",api:"$preset.apis.list",perPageAvailable:[3,100,200],defaultParams:{size:3},perPageField:"size",pageField:"page",headerToolbar:[{type:"pagination",align:"left"}],footerToolbar:["statistics","switch-per-page","pagination"],affixHeader:!1,columns:[{name:"goods_title",label:"\u5546\u54c1\u540d\u79f0",type:"text"},{name:"goods_pic",label:"\u5546\u54c1\u56fe\u7247",type:"image",src:"${goods_pic}",enlargeAble:!0,showDimensions:!0,thumbMode:"cover",originalSrc:"${goods_pic|raw}"},{label:"\u67e5\u770b\u8be6\u60c5",type:"button",actionType:"url",level:"light",blank:!0,url:"/show?iid=$id"}]}}},271:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return l}));var i=a(17),l={type:"page",debug:!0,body:{type:"service",name:"MySiteInfo",api:i.a.getSiteInfo,body:{type:"form",title:"",initApi:i.a.getSiteInfo,api:i.a.editSiteInfo,messages:{fetchSuccess:"\u4fee\u6539\u6210\u529f"},mode:"horizontal",horizontal:{leftFixed:"lg"},reload:"MySiteInfo",body:[{type:"static",name:"uuid",label:"Token: ",value:localStorage.getItem("user_uuid")},{type:"static",name:"domain_auth",label:"openAPI: ",value:""},{type:"static",name:"domain_show",label:"\u5c55\u793a\u5730\u5740: ",value:"",quickEdit:!0},{type:"static",name:"default_title",label:"\u7f51\u7ad9\u6807\u9898: ",value:"",quickEdit:!0},{type:"static",name:"note",label:"\u5907\u6ce8\u4fe1\u606f: ",value:"",quickEdit:!0},{type:"static",name:"icp",label:"icp\u5907\u6848\u53f7: ",value:"",quickEdit:!0}],actions:[{type:"submit",label:"\u4fdd\u5b58\u914d\u7f6e"}]}}}},272:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return c}));var i,l=a(5),n=a(6),o=a(3),r=a(9),s=a(31),p=a(282),d=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=r.a.getLogger("dev:amisSchema:utils"),c={type:"page",initApi:"$preset.apis.login_with_oauth_hash",stopAutoRefreshWhen:"this.oauth_hash == null",trackExpression:"${oauth_hash}",data:{nickname:"$nickname",avatar:"$avatar",oauth_hash:"$oauth_hash",state:"$state",is_redirect:"$is_redirect"},body:[{type:"container",body:{component:p.a}},{type:"wrapper",className:"register-wrapper b r-2x",body:[{type:"html",html:'\n          <h6 class="register-title">\n          <img src="static/images/logo_grey.png" />\n            <p>myAdmin \u6ce8\u518c\u65b0\u8d26\u53f7</p>\n          </h6>\n        '},{$preset:"forms.loginForm"}]}],preset:{apis:{register:{mock:!1,url:"POST signup",onSuccess:function(e){var t=e.status,a=e.msg,i=e.data;if(0===t){var l="Bearer "+i;localStorage.setItem(s.d.authorization,l),e.msg="\u60a8\u5df2\u767b\u5f55\u672c\u7cfb\u7edf"}else 20001===t||20100===t?(localStorage.setItem(s.d.authorization,""),e.msg="\u4fe1\u606f\u9a8c\u8bc1\u5931\u8d25"):(localStorage.setItem(s.d.authorization,""),e.msg=a||"\u6ce8\u518c\u5f02\u5e38");return e}},login_with_oauth_hash:{mock:!1,url:"POST login_with_oauth_hash",data:{oauth_hash:"${oauth_hash}"},onSuccess:function(e){m.warn("myAdmin(onSuccess)(login_with_oauth_hash)source:",e),m.warn("myAdmin(onSuccess)(login_with_oauth_hash)oauth_hash:","this.data.oauth_hash");var t=e.status,a=e.msg,i=e.data;if(0!==t)return localStorage.setItem(s.d.authorization,""),e.msg="\u8bf7\u6ce8\u518c","null";var n="Bearer "+i;localStorage.setItem(s.d.authorization,n);var r=void 0,p=window.location.search,d=new RegExp("(^|&)is_redirect=([^&]*)(&|$)"),c=p.substr(1).match(d);if(null!=c&&"true"===unescape(c[2])){var u=new RegExp("(^|&)state=([^&]*)(&|$)"),g=p.substr(1).match(u);if(null!=g){r=unescape(g[2]);var b=new RegExp("(^|&)oauth_hash=([^&]*)(&|$)"),y=p.substr(1).match(b);if(null!=y){var f=unescape(y[2]);if(-1!==(r=-1===r.indexOf("?")?r+"?oauth_hash="+f:r+"&oauth_hash="+f).indexOf("http"))return window.location.href=r,m.warn("myAdmin(onSuccess)(login_with_oauth_hash)stateStr:",r),m.warn("myAdmin(onSuccess)(login_with_oauth_hash)window.location.search:",p),localStorage.setItem("stateStr",r),localStorage.setItem("window.location.search",p),e}}}return e.msg=a||"\u60a8\u5df2\u767b\u5f55\u672c\u7cfb\u7edf",o.a.routerHistory.push("/start"),l.toast.info("QQ\u6388\u6743\u767b\u5f55\u6210\u529f","\u7cfb\u7edf\u63d0\u793a"),e}}},forms:{loginForm:{type:"form",className:"register-form",title:"",mode:"horizontal",horizontal:{left:"col-sm-3",right:"col-sm-8"},wrapWithPanel:!1,api:"$preset.apis.register",redirect:"/",controls:[{type:"hidden",name:"nickname",value:"${nickname}"},{type:"hidden",name:"avatar",value:"${avatar}"},{type:"hidden",name:"oauth_hash",value:"${oauth_hash}"},{type:"text",name:"username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",label:"\u7528\u6237\u540d",size:"full"},{type:"password",name:"password",label:"\u5bc6\u7801",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",size:"full"},{type:"text",name:"qqid",required:!0,placeholder:"\u8bf7\u8f93\u5165QQ\u53f7",label:"\u7ed1\u5b9aQQ\u53f7",size:"full"},{type:"button",level:"link",actionType:"link",link:"/login",inputClassName:"pull-right no-shadow",label:"\u8fd4\u56de\u767b\u5f55"},{type:"submit",level:"primary",label:"\u6ce8\u518c\u5e76\u767b\u5f55",inputClassName:"w-full",horizontal:{left:"col-sm-2",right:"col-sm-9"}}]}}},css:function(e){var t=e.name;return Object(n.css)(i||(i=d(["\n    .register-wrapper {\n      position: relative;\n      max-width: 450px;\n      margin: 12% auto 0;\n      background-color: ",";\n    }\n\n    .register-title {\n      margin: 0 0 15px 0px;\n      font-size: 30px;\n      text-align: center;\n\n      img {\n        display: inline-block;\n        width: 50px;\n        vertical-align: middle;\n      }\n      p {\n        display: inline-block;\n        margin: 0;\n        vertical-align: middle;\n      }\n    }\n\n    .register-form {\n      padding-top: 15px;\n\n      .is-error {\n        label {\n          color: #58666e;\n        }\n      }\n    }\n\n    .cxd-Form-label {\n      text-align: right !important;\n    }\n  "],["\n    .register-wrapper {\n      position: relative;\n      max-width: 450px;\n      margin: 12% auto 0;\n      background-color: ",";\n    }\n\n    .register-title {\n      margin: 0 0 15px 0px;\n      font-size: 30px;\n      text-align: center;\n\n      img {\n        display: inline-block;\n        width: 50px;\n        vertical-align: middle;\n      }\n      p {\n        display: inline-block;\n        margin: 0;\n        vertical-align: middle;\n      }\n    }\n\n    .register-form {\n      padding-top: 15px;\n\n      .is-error {\n        label {\n          color: #58666e;\n        }\n      }\n    }\n\n    .cxd-Form-label {\n      text-align: right !important;\n    }\n  "])),"dark"===t?"rgba(0,0,0,0.4)":"rgba(255, 255, 255, 0.9)")}}},273:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",title:a(45).a.defaultTitle,body:{type:"alert",body:"~~Let's Go!",level:"success"}}},274:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return l}));var i=a(8),l={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageField:"size",pageField:"page",perPageAvailable:[10,100,200],defaultParams:{size:10},headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},{$preset:"actions.tree",align:"right"},{$preset:"actions.add",align:"right"}],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"ID",type:"text"},{name:"username",label:"\u767b\u5f55\u8d26\u53f7",type:"text"},{name:"nickname",label:"\u6635\u79f0",type:"text"},{name:"qqid",label:"QQ\u53f7",type:"text"},{name:"avatar",label:"\u5934\u50cf",type:"tpl",tpl:'<img style="width:30px;" src="${avatar}" />',popOver:{body:'<div class="w-xxl"><img class="w-full" src="${avatar}"/></div>'}},{name:"role_name",label:"\u89d2\u8272\u540d",type:"tpl",tpl:'<%= !data.role_id ? "-" : data.role_name + " (" + data.role_id +")" %>'},{type:"operation",label:"\u64cd\u4f5c",width:60,limits:["editItem","delItem"],limitsLogic:"or",buttons:["$preset.actions.edit","$preset.actions.del"]}]},definitions:{updateControls:{controls:[{type:"text",name:"username",label:"\u767b\u5f55\u8d26\u53f7",required:!0},{type:"text",name:"password",label:"\u767b\u5f55\u5bc6\u7801",requiredOn:'typeof data.id === "undefined"'},{type:"text",name:"nickname",label:"\u6635\u79f0",required:!0},{type:"text",name:"qqid",label:"QQ\u53f7"}]}},preset:{actions:{add:{limits:"addItem",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e",body:{type:"form",name:"sample-edit-form",api:"$preset.apis.add",$ref:"updateControls"}}},tree:{limits:"viewTree",type:"button",align:"right",actionType:"drawer",label:"\u6210\u5458\u5173\u7cfb\u56fe",icon:"fa fa-sitemap pull-left",size:"sm",primary:!0,drawer:"$preset.forms.tree"},edit:{limits:"editItem",type:"button",icon:"fa fa-pencil",tooltip:"\u7f16\u8f91",actionType:"dialog",dialog:{title:"\u7f16\u8f91",body:{type:"form",name:"sample-edit-form",api:"$preset.apis.edit",$ref:"updateControls"}}},del:{limits:"delItem",type:"button",icon:"fa fa-times text-danger",actionType:"ajax",tooltip:"\u5220\u9664",confirmText:"\u60a8\u786e\u8ba4\u8981\u5220\u9664?",api:"$preset.apis.del",messages:{success:"\u5220\u9664\u6210\u529f",failed:"\u5220\u9664\u5931\u8d25"}}},forms:{filter:{controls:[{type:"text",name:"filter",label:"\u5173\u952e\u5b57",clearable:!0,placeholder:"ID/\u767b\u5f55\u8d26\u53f7/\u540d\u79f0"},{$ref:"sysRoleIdPicker"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]},tree:{position:"bottom",size:"md",title:"\u60a8\u521b\u5efa\u7684\u7ba1\u7406\u5458\u5173\u7cfb\u56fe",actions:[],bodyClassName:"sub-h-full",body:{type:"chart",className:"h-full",api:{$preset:"apis.treeChart",onSuccess:function(e){var t=Object(i.mapTree)([e.data],(function(e){return{children:e.children,name:e.nickname,value:e.id}}));return e.data={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:t,top:"1%",left:"7%",bottom:"1%",right:"20%",symbolSize:7,label:{position:"left",verticalAlign:"middle",align:"right",fontSize:9},leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},expandAndCollapse:!1,animationDuration:550,animationDurationUpdate:750}]},e}}}}}}}},275:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},"$preset.actions.add"],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"ID",type:"text",width:80},{name:"member",label:"\u6210\u5458",type:"text"},{name:"join_group",label:"\u7fa4\u7ec4",type:"text"},{name:"inviter",label:"\u9080\u8bf7\u8005",type:"text"},{name:"desc",label:"\u63cf\u8ff0",type:"text"}]},definitions:{updateControls:{controls:[{name:"member",label:"\u6210\u5458",type:"text",required:!0},{name:"join_group",label:"\u7fa4\u7ec4",type:"text",required:!0},{name:"inviter",label:"\u9080\u8bf7\u8005",type:"text",required:!0},{name:"desc",label:"\u63cf\u8ff0",type:"text"}]}},preset:{actions:{add:{limits:"add",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e\u8bb0\u5f55",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}}},forms:{filter:{controls:[{type:"text",name:"join_group",label:"\u7fa4\u7ec4",clearable:!0,placeholder:"\u7fa4\u7ec4"},{type:"text",name:"inviter",label:"\u9080\u8bf7\u8005",clearable:!0,placeholder:"\u9080\u8bf7\u8005"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]}}}}},276:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},"$preset.actions.add"],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"ID",type:"text",width:80},{name:"join_group",label:"\u7fa4\u7ec4",type:"text"},{name:"inviter",label:"\u9080\u8bf7\u8005",type:"text"},{name:"stats",label:"\u9080\u8bf7\u8ba1\u6570",type:"text"},{name:"inviter_username",label:"\u7528\u6237\u540d",type:"text"},{type:"operation",label:"\u64cd\u4f5c",width:60,limits:["edit","del"],limitsLogic:"or",buttons:["$preset.actions.edit","$preset.actions.del"]}]},definitions:{updateControls:{controls:[{name:"join_group",label:"\u7fa4\u7ec4",type:"text",required:!0},{name:"inviter",label:"\u9080\u8bf7\u8005",type:"text",required:!0},{name:"stats",label:"\u9080\u8bf7\u8ba1\u6570",type:"input-number"},{name:"inviter_username",label:"\u7528\u6237\u540d",type:"text"}]}},preset:{actions:{add:{limits:"add",type:"button",align:"right",actionType:"dialog",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,dialog:{title:"\u65b0\u589e\u8bb0\u5f55",size:"lg",body:{type:"form",api:"$preset.apis.add",mode:"normal",$ref:"updateControls"}}},edit:{limits:"edit",type:"button",icon:"fa fa-pencil",tooltip:"\u7f16\u8f91",actionType:"dialog",dialog:{title:"\u7f16\u8f91\u6587\u6863",size:"lg",body:{type:"form",mode:"normal",api:"$preset.apis.edit",$ref:"updateControls"}}},del:{limits:"del",type:"action",icon:"fa fa-times text-danger",actionType:"ajax",tooltip:"\u5220\u9664",confirmText:"\u60a8\u786e\u8ba4\u8981\u5220\u9664?",api:{$preset:"apis.del"},messages:{success:"\u5220\u9664\u6210\u529f",failed:"\u5220\u9664\u5931\u8d25"}}},forms:{filter:{controls:[{type:"text",name:"join_group",label:"\u7fa4\u7ec4",clearable:!0,placeholder:"\u7fa4\u7ec4"},{type:"text",name:"inviter",label:"\u9080\u8bf7\u8005",clearable:!0,placeholder:"\u9080\u8bf7\u8005"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]}}}}},277:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return i}));var i={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:[{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"}],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"member",label:"\u6210\u5458",type:"text"},{name:"join_group",label:"\u7fa4\u7ec4",type:"text"},{name:"inviter",label:"\u9080\u8bf7\u8005",type:"text"},{name:"desc",label:"\u63cf\u8ff0",type:"text"}]},definitions:{updateControls:{controls:[{name:"member",label:"\u6210\u5458",type:"text",required:!0},{name:"join_group",label:"\u7fa4\u7ec4",type:"text",required:!0},{name:"inviter",label:"\u9080\u8bf7\u8005",type:"text",required:!0},{name:"desc",label:"\u63cf\u8ff0",type:"text"}]}}}},278:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return c}));var i,l=a(9),n=a(12),o=a(31),r=a(282),s=a(45),p=a(6),d=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=l.a.getLogger("dev:amisSchema:utils"),c={type:"page",css:function(e){var t=e.name;return Object(p.css)(i||(i=d(["\n  .login-wrapper {\n    position: relative;\n    max-width: 450px;\n    margin: 12% auto 0;\n    background-color: ",";\n  }\n\n  .login-title {\n    margin: 0 0 15px 0px;\n    font-size: 30px;\n    text-align: center;\n    white-space: nowrap;\n    img {\n      width: 50px;\n      display: inline-block;\n      vertical-align: middle;\n    }\n    p {\n      margin: 0;\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n\n  .login-form {\n    padding-top: 15px;\n\n    .is-error {\n      label {\n        color: #58666e;\n      }\n    }\n  }\n\n  .cxd-Form-label {\n    text-align: right !important;\n  }\n\n  .code-input {\n    min-width: 10rem;\n  }\n\n  .code-img {\n    box-sizing: content-box;\n    height: 34px;\n    margin-left: 10px;\n    cursor: pointer;\n  }\n"],["\n  .login-wrapper {\n    position: relative;\n    max-width: 450px;\n    margin: 12% auto 0;\n    background-color: ",";\n  }\n\n  .login-title {\n    margin: 0 0 15px 0px;\n    font-size: 30px;\n    text-align: center;\n    white-space: nowrap;\n    img {\n      width: 50px;\n      display: inline-block;\n      vertical-align: middle;\n    }\n    p {\n      margin: 0;\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n\n  .login-form {\n    padding-top: 15px;\n\n    .is-error {\n      label {\n        color: #58666e;\n      }\n    }\n  }\n\n  .cxd-Form-label {\n    text-align: right !important;\n  }\n\n  .code-input {\n    min-width: 10rem;\n  }\n\n  .code-img {\n    box-sizing: content-box;\n    height: 34px;\n    margin-left: 10px;\n    cursor: pointer;\n  }\n"])),"dark"===t?"rgba(0,0,0,0.4)":"rgba(255, 255, 255, 0.9)")},body:[{type:"container",body:{component:r.a}},{type:"wrapper",className:"login-wrapper b",body:[{type:"html",html:'\n          <h6 class="login-title">\n            <img src="static/images/logo_grey.png" />\n            <p>myAdmin \u7ba1\u7406\u540e\u53f0\u7cfb\u7edf</p>\n          </h6>\n        '},{$preset:"forms.loginForm"}]}],preset:{apis:{login:{mock:!1,url:"POST login",onError:function(){Object(n.b)(o.c.updateAuthLoginCode,"")},onSuccess:function(e){var t=e.status,a=e.msg,i=e.data;if(m.warn("myAdmin(onSuccess)source:",e),m.warn("myAdmin(onSuccess)code, msg, data:",t,a,i),0===t){var l="Bearer "+i;localStorage.setItem(o.d.authorization,l),e.msg="\u60a8\u5df2\u767b\u5f55\u767b\u5f55\u672c\u7cfb\u7edf"}else 20104===t?(localStorage.setItem(o.d.authorization,""),e.msg="\u7528\u6237\u5bc6\u7801\u9519\u8bef"):(localStorage.setItem(o.d.authorization,""),e.msg=a||"\u767b\u5f55\u5f02\u5e38");return e}}},forms:{loginForm:{type:"form",className:"login-form",title:"",mode:"horizontal",horizontal:{left:"col-sm-2",right:"col-sm-9"},wrapWithPanel:!1,autoFocus:!1,api:"$preset.apis.login",redirect:"/",controls:[{type:"text",name:"username",required:!0,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",label:"\u7528\u6237\u540d",size:"full"},{type:"password",name:"password",label:"\u5bc6\u7801",required:!0,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",size:"full"},{type:"group",label:" ",gap:"sm",inputClassName:"justify-content-between",controls:[{type:"checkbox",name:"remember",label:"\u8bb0\u4f4f\u767b\u5f55",value:!0,mode:"inline",className:"inline",inputClassName:"p-t-none"},{label:"QQ\u767b\u5f55",type:"action",actionType:"url",level:"light",blank:!0,url:s.a.domainAuth+"/oauth/qq",icon:"fa fa-qq",inputClassName:"no-shadow",className:"float-right",mode:"inline"},{type:"button",level:"light",actionType:"link",link:"/signup",inputClassName:"no-shadow",className:"float-right",label:"\u6ce8\u518c\u8d26\u53f7",mode:"inline"}]},{type:"submit",level:"primary",label:"\u767b\u5f55",inputClassName:"w-full",horizontal:{left:"col-sm-2",right:"col-sm-9"}}]}}}}},279:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return d}));var i=a(1),l=a(0),n=a.n(l),o=a(2),r=a(32),s=a(17),p=function(e){var t=Object(r.a)();if(Object(i.map)(s.a,(function(e){var a=e.url,i=e.actionDesc;-1===a.indexOf("GET ")&&(t[a]={actionDesc:i,api:a,label:i,auth:!0})})),!e)return t;var a=[];return Object(i.map)(t,(function(e,t){var i=e.label,l=e.actionDesc,n=e.api,r=e.auth,s=(i||l||"-").split(o.l),p=s[0],d=s[1],m=void 0===d?"":d;-1===n.indexOf("GET ")&&r&&a.push({value:t,label:p+" "+m})})),a},d={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:"$preset.forms.filter",filterTogglable:!0,perPageAvailable:[50,100,200],defaultParams:{size:50},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"}],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"ID",type:"text"},{name:"createTime",label:"\u64cd\u4f5c\u65f6\u95f4",type:"datetime",width:150},{name:"actionAddr",label:"\u64cd\u4f5c\u8def\u5f84",type:"wrapper",component:function(e){var t=e.data.actionAddr,a=Object(i.get)(p(),t)||{},l=a.label,r=void 0===l?"":l,s=a.api,d=a.auth,m=void 0!==d&&d,c=r.split(o.l),u=c[0],g=c[1],b=void 0===g?"":g;return n.a.createElement("td",null,m&&u?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,u),n.a.createElement("span",{className:"p-l-sm"},b)):s||"-")}},{name:"handlerId",label:"\u64cd\u4f5c\u4ebaID",type:"lib-renderer",renderer:"sysUserInfoModal",userIdKey:"handlerId"},{name:"handlerName",label:"\u64cd\u4f5c\u4eba\u540d\u79f0",type:"text"},{name:"result",label:"\u64cd\u4f5c\u7ed3\u679c",type:"tpl",tpl:'\n        <span>\n          <%= data.result == 1 ? "\u6210\u529f" : "" %>\n          <% if(data.result != 1) { %>\n            <span>\u5931\u8d25\u539f\u56e0: <%= data.failDesc || \'\' %><span>\n          <% } %>\n        </span>\n      '},{type:"lib-blank",label:"\u64cd\u4f5c\u5185\u5bb9",body:{$preset:"actions.seeDetail"}}]},preset:{actions:{seeDetail:{label:"\u67e5\u770b\u8be6\u7ec6",type:"button",level:"link",actionType:"dialog",dialog:{title:"\u64cd\u4f5c\u8be6\u7ec6\u5185\u5bb9",closeOnEsc:!0,actions:[],body:{type:"form",mode:"normal",controls:[{name:"detail",inputClassName:"line-break-json",type:"static-json"}]}}}},forms:{filter:{controls:[{type:"datetime",name:"startTime",label:"\u5f00\u59cb\u65f6\u95f4",format:"YYYY-MM-DD HH:mm:ss"},{type:"datetime",name:"endTime",label:"\u7ed3\u675f\u65f6\u95f4",format:"YYYY-MM-DD HH:mm:ss"},{name:"actionAddr",type:"select",label:"\u64cd\u4f5c\u8def\u5f84",clearable:!0,searchable:!0,options:p(!0)},{type:"text",name:"handlerFilter",label:"\u64cd\u4f5c\u4eba",clearable:!0,placeholder:"\u8f93\u5165\u64cd\u4f5c\u4ebaID/\u540d\u79f0"},{type:"select",name:"status",label:"\u72b6\u6001",inline:!0,options:[{label:"\u8bf7\u9009\u62e9",value:""},{label:"\u6210\u529f",value:"1"},{label:"\u5931\u8d25",value:"2"}]},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]}}}}},280:function(e,t,a){"use strict";a.r(t),a.d(t,"schema",(function(){return l}));var i={title:"\u6210\u5458\u7ba1\u7406",size:"lg",actions:[],data:{id:""},body:{type:"lib-crud",api:"$preset.apis.listMember",filterTogglable:!1,affixHeader:!1,syncLocation:!1,forceReload:!0,perPageField:"size",pageField:"page",defaultParams:{page:1,size:10},headerToolbar:["bulkActions"],footerToolbar:[{type:"tpl",tpl:'\u5f53\u524d\u6709 ${total || "0"} \u6761\u6570\u636e\u3002',className:"v-middle"},"pagination"],filter:{controls:[{type:"text",name:"filter",label:"\u5173\u952e\u5b57",placeholder:"ID/\u767b\u5f55\u8d26\u53f7/\u6635\u79f0"},{$ref:"sysRoleIdPicker"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]},bulkActions:[{limits:"editLimit",label:"\u6279\u91cf\u53d8\u66f4\u89d2\u8272",icon:"fa fa-gavel pull-left",primary:!0,actionType:"dialog",dialog:{title:"\u6279\u91cf\u6210\u5458\u53d8\u66f4\u89d2\u8272",body:{type:"form",api:"$preset.apis.editMember",controls:[{type:"hidden",name:"ids"},{$ref:"sysRoleIdPicker",required:!0,multiple:!1,name:"newRoleId",label:"\u53d8\u66f4\u89d2\u8272"},{type:"tpl",label:"\u5df2\u9009\u6210\u5458",inputClassName:"container",tpl:'\n                  <div class="row">\n                    <% for(var i=0; i < data.items.length; i++) { var item=data.items[i]; %>\n                      <div class="col-sm-6 m-b-xs"><%= item.nickname %> (<%= item.role_name || \'\u65e0\u89d2\u8272\' %>)</div>\n                    <% } %>\n                  </div>\n                '},{type:"checkbox",name:"confirmAction",label:"\u786e\u8ba4\u64cd\u4f5c",option:"\u8bf7\u8c28\u614e\u64cd\u4f5c\uff0c\u5fc5\u987b\u786e\u8ba4\u540e\u624d\u53ef\u63d0\u4ea4\u3002"}]},actions:[{label:"\u53d6\u6d88",actionType:"close",type:"button"},{label:"\u786e\u8ba4",actionType:"confirm",type:"button",level:"primary",disabledOn:"!data.confirmAction"}]}}],columns:[{name:"id",label:"ID",type:"text"},{name:"username",label:"\u767b\u5f55\u8d26\u53f7",type:"text"},{name:"nickname",label:"\u540d\u79f0",type:"text",sortable:!0},{name:"avatar",label:"\u5934\u50cf",type:"tpl",tpl:'<img style="width:30px;" src="${avatar}" />',popOver:{body:'<div class="w-xxl"><img class="w-full" src="${avatar}"/></div>'}},{name:"role_name",label:"\u89d2\u8272\u540d",type:"tpl",tpl:'<%= !data.role_id ? "-" : data.role_name + " (" + data.role_id +")" %>'},{name:"role_desc",label:"\u89d2\u8272\u63cf\u8ff0",type:"tpl",tpl:'<span class="text-ellipsis" title="${role_desc}">${role_desc}</span>',width:150}]}},l={type:"page",body:{type:"lib-crud",api:"$preset.apis.list",filter:{$preset:"forms.filter",limits:""+a(31).b.global.sysRoleIdPicker},filterTogglable:!0,perPageAvailable:[10,100,200],defaultParams:{size:10},perPageField:"size",pageField:"page",headerToolbar:["filter-toggler",{type:"columns-toggler",align:"left"},{type:"pagination",align:"left"},{$preset:"actions.members",align:"right"},{$preset:"actions.add",align:"right"}],footerToolbar:["statistics","switch-per-page","pagination"],columns:[{name:"id",label:"ID",width:80,type:"text"},{name:"role_name",label:"\u89d2\u8272\u540d",width:120,type:"text"},{name:"role_desc",label:"\u89d2\u8272\u63cf\u8ff0",type:"tpl",width:300,tpl:'<span class="text-ellipsis" title="${role_desc}">${role_desc}</span>'},{type:"operation",label:"\u64cd\u4f5c",width:92,limits:["editRole","editLimit","delRole"],limitsLogic:"or",buttons:["$preset.actions.edit","$preset.actions.editLimit","$preset.actions.del"]}]},definitions:{updateControls:{controls:[{type:"text",name:"role_name",label:"\u89d2\u8272\u540d",required:!0},{type:"text",name:"role_desc",label:"\u89d2\u8272\u63cf\u8ff0",required:!0}]}},preset:{actions:{add:{limits:"addRole",type:"button",label:"\u6dfb\u52a0",icon:"fa fa-plus pull-left",size:"sm",primary:!0,actionType:"dialog",dialog:"$preset.forms.add"},members:{limits:"listMember",type:"button",label:"\u6210\u5458\u7ba1\u7406",icon:"fa fa-users pull-left",size:"sm",primary:!0,actionType:"dialog",dialog:i},edit:{limits:"editRole",type:"button",icon:"fa fa-pencil",tooltip:"\u7f16\u8f91",actionType:"dialog",dialog:"$preset.forms.edit"},editLimit:{limits:"editLimit",type:"lib-limit-setting",saveConfirmText:"\u60a8\u6b63\u5728\u4fee\u6539\u7684\u89d2\u8272\u662f\u3010$name\u3011\uff0c\u63d0\u4ea4\u540e\u5c06\u4e0d\u53ef\u91cd\u7f6e\uff0c\u662f\u5426\u786e\u8ba4\u63d0\u4ea4\uff1f",button:{actionType:"drawer",iconOnly:!0,icon:"fa fa-unlock-alt",level:"link",label:"",tooltip:"\u7f16\u8f91\u6743\u9650"},modal:{postion:"right",resizable:!0,className:"hide-close-button"},initApi:"$preset.apis.getLimit",api:"$preset.apis.editLimit"},del:{limits:"delRole",type:"button",icon:"fa fa-times text-danger",actionType:"ajax",tooltip:"\u5220\u9664",confirmText:"\u60a8\u786e\u8ba4\u8981\u5220\u9664?",api:"$preset.apis.delRole",messages:{success:"\u5220\u9664\u6210\u529f",failed:"\u5220\u9664\u5931\u8d25"}}},forms:{filter:{controls:[{$ref:"sysRoleIdPicker"},{type:"submit",className:"m-l",label:"\u641c\u7d22"}]},add:{title:"\u65b0\u589e",body:{type:"form",name:"sample-edit-form",api:"$preset.apis.addRole",$ref:"updateControls"}},edit:{title:"\u7f16\u8f91",body:{type:"form",name:"sample-edit-form",api:"$preset.apis.editRole",$ref:"updateControls"}}}}}}}]);
//# sourceMappingURL=pages_common_f5c007.js.map